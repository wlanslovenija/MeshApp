#!/system/bin/sh

#--------------------------------------------------------------------------------------------------#
# When invoked, this script stops the OLSR daemon from running by locating its PID and killing it. #
#--------------------------------------------------------------------------------------------------#

for cmd in /proc/*/cmdline
do
    case "$(cat $cmd)" in
	/bin/olsrd*)
	pid=${cmd#/proc/}
	echo "Killing olsrd (pid ${pid%%/*)"
	kill ${pid%%/*}
	;;
    esac
done
